specVersion: 0.0.2
schema:
    file: ./src/schema.graphql
dataSources:
    - kind: ethereum/contract
      name: SinglePlayerCommit
      # prettier-ignore
      network: matic # polygon
      source:
          address: '0x91e17f2a995f7eb830057a2f83ada3a50a37f20d'
          abi: SinglePlayerCommit
          # prettier-ignore
          startBlock: 16138585
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.4
          language: wasm/assemblyscript
          entities:
              - Committer
              - Commitment
              - Activity
              - ActivityUpdate
              - Depoosit
              - Withdrawal
              - OracleRequest
          abis:
              - name: SinglePlayerCommit
                file: ../CommitPoolContract/out/abi/contracts/SinglePlayerCommit.sol/SinglePlayerCommit.json
          eventHandlers:
              - event: NewCommitment(address,string,uint256,uint256,uint256,uint256)
                handler: handleNewCommitment
              - event: CommitmentEnded(address,bool,uint256)
                handler: handleCommitmentEnded
              - event: Deposit(address,uint256)
                handler: handleDeposit
              - event: Withdrawal(address,uint256)
                handler: handleWithdrawal
              - event: RequestActivityDistanceFulfilled(indexed bytes32,indexed uint256,indexed address)
                handler: handleRequestActivityDistanceFulfilled
              - event: ChainlinkRequested(indexed bytes32)
                handler: handleChainlinkRequested
              - event: ActivityUpdated(string,bytes32,address,bool,bool)
                handler: handleActivityUpdated
          file: ./src/mappings.ts
